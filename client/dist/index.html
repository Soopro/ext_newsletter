<!doctype html>
<html lang={{lang}} ng-app=newsletter><head><title>Newsletter</title><meta http-equiv=content-type content=text/html;charset=utf-8><meta name=description content><meta name=viewport content=width=device-width><link rel="shortcut icon" href=favicon.png><link rel=stylesheet href=app.min.css?md5=255f91a020><link rel=stylesheet href=locale.min.css?md5=255f91a020></head><body layout=column><script type=text/ng-template id=blueprints/404.html><div layout=column layout-align="center center"><h2 class=md-display-2>{{_('404 Not Found')}}</h2><p> {{_('Sorry! We can not find the page.')}} </p><p> {{_('Go back.')}} </p><md-button class=md-icon-button aria-label="{{_('Back')}}" ng-href=/#/ ><md-icon md-svg-icon=ic_arrow_back_24px></md-icon></md-button></div></script><script type=text/ng-template id=blueprints/newsletter/views/edit.html><div layout=column><md-toolbar class=md-hue-3><div class=md-toolbar-tools><md-button class=md-icon-button aria-label="{{_('Back')}}" ng-click="jump_to('/newsletter/posts')"><md-icon md-svg-icon=ic_arrow_back_24px></md-icon></md-button><h2><span>{{ _('Newsletter') }}</span></h2><span flex></span><ng-include src="'blueprints/newsletter/views/menu.tmpl.html'" ng-controller=menuCtrl></ng-include></div></md-toolbar><div class=md-padding><form name=post_form layout=column novalidate ng-submit=save_post()><md-input-container><label>{{_('Title')}}</label><input name=title ng-model=post.title md-maxlength=30 required><ng-messages for=post_form.title.$error role=alert><ng-message when=required> {{ _('Title is required.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Content')}}</label><textarea name=content ng-model=post.content md-maxlength=6000 rows=10 required></textarea><ng-messages for=post_form.content.$error role=alert><ng-message when=required> {{ _('Content is required.') }} </ng-message></ng-messages></md-input-container><div layout=row><md-button class="md-raised md-primary" type=submit ng-disabled=is_submitted> {{_('Save')}} </md-button><md-button class=md-raised type=button ng-if=is_new ng-click="jump_to('/newsletter/posts')" ng-disabled=is_submitted> {{_('Cancel')}} </md-button><md-button class=md-raised type=button ng-if=!is_new ng-click="jump_to('/newsletter/posts/' + post.id + '/send')" ng-disabled=is_submitted> {{_('Send')}} </md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Delete')}}" ng-click=delete_post() type=button ng-disabled="is_new || is_submitted"><md-icon md-svg-icon=ic_delete_24px></md-icon></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/newsletter/views/menu.tmpl.html><md-menu md-offset="0 -5"><md-button aria-label="{{_('Menu')}}" class=md-icon-button ng-click=$mdOpenMenu($event)><md-icon md-menu-origin md-svg-icon=ic_more_vert_24px></md-icon></md-button><md-menu-content width=3><md-menu-item><md-button ng-click="jump_to('/newsletter/profile')"> {{_('Setting')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=return() ng-disabled=is_list> {{_('Return to list')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=close()> {{_('Close Extension')}} </md-button></md-menu-item></md-menu-content></md-menu></script><script type=text/ng-template id=blueprints/newsletter/views/posts.html><div layout=column><md-toolbar class=md-hue-3><div class=md-toolbar-tools><md-button class=md-icon-button aria-label="{{_('Back')}}" ng-click="jump_to('/newsletter/posts')" ng-disabled=true><md-icon md-svg-icon=ic_arrow_back_24px></md-icon></md-button><h2><span>{{ _('Newsletter') }}</span></h2><span flex></span><ng-include src="'blueprints/newsletter/views/menu.tmpl.html'" ng-controller=menuCtrl></ng-include></div></md-toolbar><div class=md-padding><md-list><md-subheader class=md-no-sticky>{{_('Posts')}}</md-subheader><div ng-repeat="item in posts"><md-list-item class=md-2-line><div class=md-list-item-text layout=column><h3>{{ item.title }}</h3><p class=text-nowrap max-vw=70> {{ item.update_time | dateformat}} </p></div><div class=actions layout=row layout-align="end center"><md-button class="md-raised md-icon-button" ng-click=open_post(item.id) aria-label="{{_('Edit')}}"><md-icon md-svg-icon=ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted ng-show=!$last></md-divider></div><md-divider></md-divider><md-list-item class=md-2-line><div class=md-list-item-text layout=column><div><md-button class=md-raised ng-click="jump_to('/newsletter/edit_post/new')"> {{_('New')}} </md-button></div></div></md-list-item></md-list></div></div></script><script type=text/ng-template id=blueprints/newsletter/views/profile.html><div layout=column><md-toolbar class=md-hue-3><div class=md-toolbar-tools><md-button class=md-icon-button aria-label="{{_('Back')}}" ng-click="jump_to('/newsletter/posts')"><md-icon md-svg-icon=ic_arrow_back_24px></md-icon></md-button><h2><span>{{ _('Setting') }}</span></h2><span flex></span><ng-include src="'blueprints/newsletter/views/menu.tmpl.html'" ng-controller=menuCtrl></ng-include></div></md-toolbar><div class=md-padding><form name=profile_form layout=column novalidate ng-submit=save_profile()><md-input-container><label>{{_('SMTP')}}</label><input name=host ng-model=profile.host ng-pattern=/^smtp(\.\w+){2,}$/ required ><ng-messages for=profile_form.host.$error role=alert><ng-message when=required> {{ _('SMTP server is required.') }} </ng-message><ng-message when=pattern> {{ _('This is not a SMTP server!') }} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Port')}}</label><input name=port ng-model=profile.port type=number min=1 max=100000 required><ng-messages for=profile_form.port.$error role=alert><ng-message when=required> {{ _('Port is required.') }} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Email')}}</label><input name=email ng-model=profile.username type=email required><ng-messages for=profile_form.email.$error role=alert><ng-message when=email> {{ _('Email, please!') }} </ng-message><ng-message when=required> {{ _('Email is required.') }} </ng-message></ng-messages></md-input-container><md-checkbox name=use_tls ng-model=profile.use_tls aria-label="{{ _('Use TLS') }}"> {{ _('Use TLS') }} </md-checkbox><div layout=row><md-button class="md-raised md-primary" type=submit ng-disabled=is_saved> {{_('Save')}} </md-button><md-button class=md-raised type=button ng-click="jump_to('/dashboard')" ng-disabled=is_saved> {{_('Cancel')}} </md-button></div></form></div></div></script><script type=text/ng-template id=blueprints/newsletter/views/send.html><div layout=column><md-toolbar class=md-hue-3><div class=md-toolbar-tools><md-button class=md-icon-button aria-label="{{_('Back')}}" ng-click="jump_to('/newsletter/edit_post/' + post_id)"><md-icon md-svg-icon=ic_arrow_back_24px></md-icon></md-button><h2><span>{{ _('Send') }}</span></h2><span flex></span><ng-include src="'blueprints/newsletter/views/menu.tmpl.html'" ng-controller=menuCtrl></ng-include></div></md-toolbar><div class=md-padding><div><form name=mail_form layout=column novalidate ng-submit=send()><div layout-gt-xs=row layout-align="start start"><div flex-gt-xs=30 class="md-padding input-row" layout=row><md-input-container flex><md-select flex-order=2 name=send_func ng-model=selected_func placeholder="{{ _('Send Func') }}"><md-option ng-value=item ng-repeat="item in send_func"> {{ _( item.name ) }} </md-option></md-select></md-input-container></div><div flex class=md-padding layout=row><md-input-container flex ng-show=selected_func.is_published><label>{{_('Test Email')}}</label><md-select flex name=selected_role placeholder="{{ _('Roles') }}" ng-model=selected_role md-on-open=loadRoles()><md-option ng-value=item ng-repeat="item in roles"> {{ item.title }} </md-option></md-select></md-input-container><md-input-container flex ng-show=!selected_func.is_published><label>{{_('Test Email')}}</label><input name=test_email ng-model=test_email type=email required><ng-messages for=mail_form.test_email.$error role=alert><ng-message when=required> {{ _('Test Email is required.') }} </ng-message><ng-message when=email> {{ _('Email, please! Just one.') }} </ng-message></ng-messages></md-input-container></div></div><div class=md-padding><md-input-container class=md-block><label>{{_('Password')}}</label><input name=password ng-model=password type=password required><ng-messages for=mail_form.password.$error role=alert><ng-message when=required> {{ _('Password is required.') }} </ng-message></ng-messages></md-input-container></div><div layout=row><md-button class="md-raised md-primary" type=submit ng-disabled="is_sended || is_updating"> {{_('Send')}} </md-button><md-button class=md-raised type=button ng-click=update_roles() ng-disabled="is_sended || is_updating" ng-if=selected_func.is_published> {{_('Update Roles')}} </md-button></div></form></div></div></div></script><div ng-view class=view></div><script src=server_conf.js?md5=255f91a020></script><script src=app.min.js?md5=255f91a020></script><script src=locale.min.js?md5=255f91a020></script></body></html>