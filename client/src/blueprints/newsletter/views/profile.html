<div layout="column">
  <md-toolbar class="md-hue-3">
    <div class="md-toolbar-tools">
      <md-button class="md-icon-button" aria-label="{{_('Back')}}"
       ng-click="jump_to('/newsletter/posts')">
        <md-icon md-svg-icon="ic_arrow_back_24px"></md-icon>
      </md-button>
      <h2>
        <span>{{ _('Setting') }}</span>
      </h2>
      <span flex></span>
      <ng-include src="'blueprints/newsletter/views/menu.tmpl.html'" 
       ng-controller="menuCtrl"></ng-include>
    </div>
  </md-toolbar>
  <div class="md-padding">
    <form name="profile_form" layout="column" 
     novalidate ng-submit="save_profile()">
      
      <md-input-container>
        <label>{{_('Host')}}</label>
        <input name="host" ng-model="profile.host"
         ng-pattern="/^smtp(\.\w+){2,}$/" required></input>
        <ng-messages for="profile_form.host.$error" role="alert">
          <ng-message when="required">
            {{ _('Host is required.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('This is not a SMTP server!') }}
          </ng-message>
        </ng-messages>
      </md-input-container>
      
      <md-input-container>
        <label>{{_('Port')}}</label>
        <input name="port" ng-model="profile.port"
         type="number" min="1" max="100000" required></input>
        <ng-messages for="profile_form.port.$error" role="alert">
          <ng-message when="required">
            {{ _('Port is required.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>
      
      <md-input-container>
        <label>{{_('Email')}}</label>
        <input name="email" ng-model="profile.username"
         type="email" required></input>
         <ng-messages for="profile_form.email.$error" role="alert">
           <ng-message when="email">
             {{ _('Email, please!') }}
           </ng-message>
           <ng-message when="required">
             {{ _('Email is required.') }}
           </ng-message>
         </ng-messages>
      </md-input-container>
      
      <md-checkbox name="use_tls" ng-model="profile.use_tls"
       aria-label="{{ _('Use TLS') }}">
        {{ _('Use TLS') }}
      </md-checkbox>
      
      <div layout="row">
        <md-button class="md-raised md-primary" type="submit"
         ng-disabled="submitted">
          {{_('Save')}}
        </md-button>
        <md-button class="md-raised" type="button"
         ng-click="jump_to('/dashboard')" ng-disabled="submitted">
          {{_('Cancel')}}
        </md-button>
      </div>
    </form>
  </div>
</div>
